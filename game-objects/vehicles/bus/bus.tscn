[gd_scene load_steps=9 format=3 uid="uid://b0jfg2inmke4k"]

[ext_resource type="PackedScene" uid="uid://1twv1cec0hc6" path="res://game-objects/vehicles/vehicle.tscn" id="1_adgb3"]
[ext_resource type="Script" uid="uid://fg6igepkiofx" path="res://game-objects/vehicles/bus/bus.gd" id="2_8bm15"]
[ext_resource type="PackedScene" uid="uid://cx5r114fjgwq7" path="res://game-objects/light/light.tscn" id="2_ioive"]
[ext_resource type="PackedScene" uid="uid://4kuxfxcr7jee" path="res://game-objects/vehicles/headlight/headlight.tscn" id="4_insyj"]

[sub_resource type="LabelSettings" id="LabelSettings_8bm15"]
font_size = 8
shadow_size = 0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_insyj"]
size = Vector2(80, 31)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0l3b4"]
size = Vector2(68, 22)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_s0wy3"]
size = Vector2(10.5, 20)

[node name="Bus" instance=ExtResource("1_adgb3")]
script = ExtResource("2_8bm15")

[node name="Body" type="Polygon2D" parent="." index="0"]
z_index = 5
z_as_relative = false
position = Vector2(74, -44)
color = Color(0.105, 0.514, 0.833, 1)
polygon = PackedVector2Array(-107.92969, 33.09375, -107.859375, 33.046875, -107.65758, 33, -42.085938, 33, -41.890625, 32.835938, -41.76124, 32.475456, -41.703125, 31.898438, -41.757935, 31.45798, -41.861294, 30.997921, -41.91458, 30.675493, -41.852684, 30.347395, -41.622284, 30.304443, -41.432007, 30.377893, -41.313267, 30.559309, -41.25, 30.820313, -41.24178, 31.323765, -41.257813, 31.851563, -41.21875, 32.367188, -41.140625, 32.695313, -40.99316, 32.992188, -40.74334, 33.070313, -40.553814, 33.171875, -40.429688, 33.25, -40.265625, 33.40625, -40.140625, 33.566376, -40.0625, 33.726563, -39.992188, 33.992188, -40, 53.819675, -40.046875, 54.16395, -40.119072, 54.298714, -40.242188, 54.48342, -40.454185, 54.72327, -40.683342, 54.882805, -41, 55, -41.114845, 55.171875, -41.148438, 55.492188, -41.138283, 56.633595, -41.140625, 57.21875, -41.134377, 57.47578, -41.140625, 57.79844, -41.146873, 58.135155, -41.182034, 58.596878, -41.23594, 59.065624, -41.403908, 59.41797, -41.553123, 59.596092, -41.71328, 59.696095, -42.060158, 59.742188, -42.20625, 59.647655, -42.271877, 59.458595, -42.171875, 59.275, -42.06875, 59.077343, -41.852345, 58.7125, -41.742188, 58.25, -41.710938, 57.828125, -41.679688, 57.507813, -41.664063, 57.226563, -41.640625, 56.765625, -41.632813, 56.375, -41.640625, 56, -41.726563, 55.710938, -41.867188, 55.484375, -42.078125, 55.164063, -42.304688, 55, -107.734375, 55, -107.85156, 55, -107.94531, 54.960938, -107.97656, 54.898438, -108, 54.796875, -107.99998, 33.46531, -107.999985, 33.240417)
uv = PackedVector2Array(-366, -51.5, 93, -54.5, 93, 77.5, -373, 79.5)

[node name="Line2D" type="Line2D" parent="Body" index="0"]
position = Vector2(-9, 0)
points = PackedVector2Array(-62, 48, -57, 44, -62, 40)
width = 1.0

[node name="LeftBrakeLight" parent="Body" index="1" instance=ExtResource("2_ioive")]
position = Vector2(-108, 35)
inactive_color = Color(0.2, 0, 0, 1)
active_color = Color(1, 0, 0, 1)
backlight_energy = 15.0
ilumination_scale = 0.25

[node name="LeftRayIndicator" parent="Body" index="2" instance=ExtResource("2_ioive")]
position = Vector2(-43, 38)
inactive_color = Color(0.328363, 0.188552, 0.0617831, 1)
active_color = Color(0.993088, 0.761047, 0.36313, 1)
ilumination_scale = 0.25

[node name="RightRayIndicator" parent="Body" index="3" instance=ExtResource("2_ioive")]
position = Vector2(-43, 50)
inactive_color = Color(0.329412, 0.188235, 0.0627451, 1)
active_color = Color(0.992157, 0.760784, 0.364706, 1)
ilumination_scale = 0.25

[node name="RightBrakeLight" parent="Body" index="4" instance=ExtResource("2_ioive")]
position = Vector2(-108, 53)
inactive_color = Color(0.2, 0, 0, 1)
active_color = Color(1, 0, 0, 1)
backlight_energy = 15.0
ilumination_scale = 0.25

[node name="LongRayIndicator" parent="Body" index="5" instance=ExtResource("2_ioive")]
position = Vector2(-72, 39)
inactive_color = Color(0.0998999, 5.17646e-05, 0.34762, 1)
active_color = Color(0.602044, 0.610385, 1, 1)
ilumination_scale = 0.25

[node name="MediumRayIndicator" parent="Body" index="6" instance=ExtResource("2_ioive")]
position = Vector2(-72, 44)
inactive_color = Color(0.2, 0.364706, 0, 1)
active_color = Color(0.394249, 0.68442, 0, 1)
ilumination_scale = 0.25

[node name="CloseRayIndicator" parent="Body" index="7" instance=ExtResource("2_ioive")]
position = Vector2(-72, 49)
inactive_color = Color(0.531182, 0, 0.263433, 1)
active_color = Color(1, 0.359538, 0.595255, 1)
ilumination_scale = 0.25

[node name="LeftBeam" parent="Body" index="8" instance=ExtResource("4_insyj")]
z_index = 100
z_as_relative = false
position = Vector2(-40, 38)

[node name="RightBeam" parent="Body" index="9" instance=ExtResource("4_insyj")]
z_index = 100
z_as_relative = false
position = Vector2(-40, 50)

[node name="Label" type="Label" parent="Body" index="10"]
offset_left = -95.0
offset_top = 36.0
offset_right = -79.0
offset_bottom = 48.0
rotation = 1.5708
text = "12"
label_settings = SubResource("LabelSettings_8bm15")
horizontal_alignment = 1

[node name="Visuals" type="Node2D" parent="Body" index="11"]
position = Vector2(-74, 44)

[node name="Tires" type="Node2D" parent="Body/Visuals" index="0"]

[node name="FrontLeftTire" type="Polygon2D" parent="Body/Visuals/Tires" index="0"]
z_index = 4
z_as_relative = false
position = Vector2(20, -10.75)
scale = Vector2(1.5, 1.5)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-1.910156, -0.382812, -1.988281, -0.304687, -2.011719, -0.054687, -2.011719, 0.15625, -1.996094, 0.304688, -1.933594, 0.382813, -1.832031, 0.445313, -1.683594, 0.484375, -1.480469, 0.5, -0.003906, 0.5, 1.441406, 0.5, 1.636719, 0.476563, 1.769531, 0.445313, 1.871094, 0.375, 1.949219, 0.304688, 2.003906, 0.210938, 2.011719, -0.289062, 1.925781, -0.398437, 1.800781, -0.453125, 1.636719, -0.492187, 1.441406, -0.5, 0.003906, -0.5, -1.472656, -0.5, -1.667969, -0.476562, -1.792969, -0.4375, -1.910156, -0.382812)

[node name="RearLeftTire" type="Polygon2D" parent="Body/Visuals/Tires" index="1"]
z_index = 4
z_as_relative = false
position = Vector2(-16, -10.75)
scale = Vector2(1.5, 1.5)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-1.910156, -0.382812, -1.988281, -0.304687, -2.011719, -0.054687, -2.011719, 0.15625, -1.996094, 0.304688, -1.933594, 0.382813, -1.832031, 0.445313, -1.683594, 0.484375, -1.480469, 0.5, -0.003906, 0.5, 1.441406, 0.5, 1.636719, 0.476563, 1.769531, 0.445313, 1.871094, 0.375, 1.949219, 0.304688, 2.003906, 0.210938, 2.011719, -0.289062, 1.925781, -0.398437, 1.800781, -0.453125, 1.636719, -0.492187, 1.441406, -0.5, 0.003906, -0.5, -1.472656, -0.5, -1.667969, -0.476562, -1.792969, -0.4375, -1.910156, -0.382812)

[node name="RearRightTire" type="Polygon2D" parent="Body/Visuals/Tires" index="2"]
z_index = 4
z_as_relative = false
position = Vector2(-16, 10.75)
scale = Vector2(1.5, 1.5)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-1.910156, -0.382812, -1.988281, -0.304687, -2.011719, -0.054687, -2.011719, 0.15625, -1.996094, 0.304688, -1.933594, 0.382813, -1.832031, 0.445313, -1.683594, 0.484375, -1.480469, 0.5, -0.003906, 0.5, 1.441406, 0.5, 1.636719, 0.476563, 1.769531, 0.445313, 1.871094, 0.375, 1.949219, 0.304688, 2.003906, 0.210938, 2.011719, -0.289062, 1.925781, -0.398437, 1.800781, -0.453125, 1.636719, -0.492187, 1.441406, -0.5, 0.003906, -0.5, -1.472656, -0.5, -1.667969, -0.476562, -1.792969, -0.4375, -1.910156, -0.382812)

[node name="FrontRightTire" type="Polygon2D" parent="Body/Visuals/Tires" index="3"]
z_index = 4
z_as_relative = false
position = Vector2(20, 10.75)
scale = Vector2(1.5, 1.5)
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-1.910156, -0.382812, -1.988281, -0.304687, -2.011719, -0.054687, -2.011719, 0.15625, -1.996094, 0.304688, -1.933594, 0.382813, -1.832031, 0.445313, -1.683594, 0.484375, -1.480469, 0.5, -0.003906, 0.5, 1.441406, 0.5, 1.636719, 0.476563, 1.769531, 0.445313, 1.871094, 0.375, 1.949219, 0.304688, 2.003906, 0.210938, 2.011719, -0.289062, 1.925781, -0.398437, 1.800781, -0.453125, 1.636719, -0.492187, 1.441406, -0.5, 0.003906, -0.5, -1.472656, -0.5, -1.667969, -0.476562, -1.792969, -0.4375, -1.910156, -0.382812)

[node name="TopSurfaces" type="Node2D" parent="Body/Visuals" index="1"]

[node name="Roof" type="Polygon2D" parent="Body/Visuals/TopSurfaces" index="0"]
modulate = Color(1, 1, 1, 0.11764706)
polygon = PackedVector2Array(-33.25, -9.96875, -32.990685, -9.990235, 22, -10, 31.992188, -10, 32.3125, -9.71875, 32.507813, -9.4375, 32.53125, -8.9921875, 32.508595, 9.016406, 32.49167, 9.522691, 32.323437, 9.778125, 32, 10.0078125, 10, 10, -33.015152, 10.007553, -33.21875, 9.9375, -33.414135, 9.823345, -33.523438, 9.6328125, -33.540054, -9.744998, -33.409588, -9.902877)

[node name="Tower" type="Polygon2D" parent="Body/Visuals/TopSurfaces" index="1"]
polygon = PackedVector2Array(10.1328125, -6.734375, 10.0078125, -6.501335, 10.001152, 6.414732, 10.125, 6.6640625, 10.333557, 6.8671875, 10.5625, 7, 27.524544, 6.9921875, 27.773438, 6.859375, 27.929686, 6.7253237, 28.007813, 6.4453125, 28.007813, -6.5, 27.914063, -6.734375, 27.734375, -6.9140625, 27.453125, -6.9921875, 10.527037, -6.9999995, 10.267174, -6.880271)

[node name="Vent" parent="Body/Visuals/TopSurfaces/Tower" index="0" instance=ExtResource("2_ioive")]
position = Vector2(15, -2)
inactive_color = Color(0.13682577, 0.13682574, 0.13682571, 1)
radius = 2.0
segments = 30
light_energy = 0.0
ilumination_scale = 0.0

[node name="RearTower" type="Polygon2D" parent="Body/Visuals/TopSurfaces" index="2"]
modulate = Color(1, 1, 1, 0.5882353)
position = Vector2(-15, 25)
rotation = 1.5707964
polygon = PackedVector2Array(-28.773438, -5.4921875, -28.426167, -5.7924933, -27.990854, -6, -21.986, -6.0078125, -21.511288, -5.749347, -21.25376, -5.452371, -21.000002, -5.0114193, -20.99219, 5.991185, -21.125, 6.53125, -21.484375, 6.890626, -21.98612, 7.000002, -27.996706, 7.000002, -28.460938, 6.828125, -28.78125, 6.5234375, -29.000004, 6.0035124, -28.99219, -4.994576)

[node name="Windows" type="Node2D" parent="Body/Visuals" index="2"]

[node name="Window1" type="Polygon2D" parent="Body/Visuals/Windows" index="0"]
position = Vector2(20, 10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 2.4921875, -0.37374124, 2.4828172, 0.42840573, -2.5341125, 0.40029454)

[node name="FrontDoors" type="Polygon2D" parent="Body/Visuals/Windows" index="1"]
position = Vector2(29, 10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-3.234375, -0.359375, 2.4921875, -0.37374124, 2.4828172, 0.42840573, -3.2421875, 0.40625)

[node name="Window2" type="Polygon2D" parent="Body/Visuals/Windows" index="2"]
position = Vector2(14.5, 10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 2.484375, -0.38936624, 2.4828172, 0.40496823, -2.5341125, 0.40029454)

[node name="Window3" type="Polygon2D" parent="Body/Visuals/Windows" index="3"]
position = Vector2(9, 10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 2.484375, -0.38936624, 2.4828172, 0.40496823, -2.5341125, 0.40029454)

[node name="Window4" type="Polygon2D" parent="Body/Visuals/Windows" index="4"]
position = Vector2(-11, 10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 2.484375, -0.38936624, 2.4828172, 0.40496823, -2.5341125, 0.40029454)

[node name="Window5" type="Polygon2D" parent="Body/Visuals/Windows" index="5"]
position = Vector2(-16.5, 10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 2.484375, -0.38936624, 2.4828172, 0.40496823, -2.5341125, 0.40029454)

[node name="Window7" type="Polygon2D" parent="Body/Visuals/Windows" index="6"]
position = Vector2(-16.5, -10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 2.484375, -0.38936624, 2.4828172, 0.40496823, -2.5341125, 0.40029454)

[node name="Window8" type="Polygon2D" parent="Body/Visuals/Windows" index="7"]
position = Vector2(-11, -10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 2.484375, -0.38936624, 2.4828172, 0.40496823, -2.5341125, 0.40029454)

[node name="Window9" type="Polygon2D" parent="Body/Visuals/Windows" index="8"]
position = Vector2(-5.5, -10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 2.484375, -0.38936624, 2.4828172, 0.40496823, -2.5341125, 0.40029454)

[node name="Window10" type="Polygon2D" parent="Body/Visuals/Windows" index="9"]
position = Vector2(0, -10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 2.484375, -0.38936624, 2.4828172, 0.40496823, -2.5341125, 0.40029454)

[node name="Window11" type="Polygon2D" parent="Body/Visuals/Windows" index="10"]
position = Vector2(5.5, -10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 2.484375, -0.38936624, 2.4828172, 0.40496823, -2.5341125, 0.40029454)

[node name="Window12" type="Polygon2D" parent="Body/Visuals/Windows" index="11"]
position = Vector2(11, -10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 2.484375, -0.38936624, 2.4828172, 0.40496823, -2.5341125, 0.40029454)

[node name="Window13" type="Polygon2D" parent="Body/Visuals/Windows" index="12"]
position = Vector2(16.5, -10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 2.484375, -0.38936624, 2.4828172, 0.40496823, -2.5341125, 0.40029454)

[node name="Window14" type="Polygon2D" parent="Body/Visuals/Windows" index="13"]
position = Vector2(22, -10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 2.484375, -0.38936624, 2.4828172, 0.40496823, -2.5341125, 0.40029454)

[node name="Window0" type="Polygon2D" parent="Body/Visuals/Windows" index="14"]
position = Vector2(29, -10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 2.484375, -0.38936624, 2.4828172, 0.40496823, -2.5341125, 0.40029454)

[node name="Windshield" type="Polygon2D" parent="Body/Visuals/Windows" index="15"]
position = Vector2(33.5, -6.5)
rotation = 1.5707964
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.9872994, -0.373887, 0.05184555, -0.38205338, 16.143682, -0.39717874, 16.642721, -0.21528625, 17.063408, 0.08595276, 17.342627, 0.5232587, 17.15625, 0.890625, 16.789051, 1.2965627, 16.42841, 0.8637037, 16.17166, 0.6373949, 15.760397, 0.51900274, -2.989619, 0.55958617, -3.3428571, 0.70647717, -3.5452754, 0.9289861, -3.7860808, 1.1170387, -4.0370274, 1.023263, -4.1716986, 0.768137, -4.097517, 0.4466524, -3.927073, 0.13603783, -3.5781255, -0.21875)

[node name="Window6" type="Polygon2D" parent="Body/Visuals/Windows" index="16"]
position = Vector2(-22, -10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 2.484375, -0.38936624, 2.4828172, 0.40496823, -2.5341125, 0.40029454)

[node name="MiddleDoors" type="Polygon2D" parent="Body/Visuals/Windows" index="17"]
position = Vector2(-1, 10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 4.4296875, -0.40499124, 4.435942, 0.39715573, -2.5341125, 0.40029454)

[node name="RearDoors" type="Polygon2D" parent="Body/Visuals/Windows" index="18"]
position = Vector2(-27, 10.5)
color = Color(0.16470589, 0.16470589, 0.16470589, 1)
polygon = PackedVector2Array(-2.5528536, -0.3909241, 0.05184555, -0.38205338, 4.4296875, -0.40499124, 4.435942, 0.39715573, -2.5341125, 0.40029454)

[node name="TowerGrate" type="Polygon2D" parent="Body/Visuals" index="3"]
color = Color(0.7873489, 0.81230754, 0.79835236, 1)
polygon = PackedVector2Array(-32.992188, -10.84375, -33, -10.0703125, -26, -10.0859375, -26.007813, -10.84375)

[node name="CollisionArea" type="Area2D" parent="." index="1"]
position = Vector2(-12, 0)
collision_layer = 6
collision_mask = 2
monitoring = false
monitorable = false

[node name="CollisionShape" type="CollisionShape2D" parent="CollisionArea" index="0"]
position = Vector2(4, 0.5)
shape = SubResource("RectangleShape2D_insyj")
disabled = true

[node name="CloseRayCaster" type="RayCast2D" parent="." index="2"]
position = Vector2(34, 0)
enabled = false
exclude_parent = false
target_position = Vector2(11, 0)
collision_mask = 2
hit_from_inside = true
collide_with_areas = true
collide_with_bodies = false

[node name="MediumRayCaster" type="RayCast2D" parent="." index="3"]
position = Vector2(34, 0)
enabled = false
exclude_parent = false
target_position = Vector2(36, 0)
collision_mask = 2
hit_from_inside = true
collide_with_areas = true
collide_with_bodies = false

[node name="LongRayCaster" type="RayCast2D" parent="." index="4"]
position = Vector2(34, 0)
enabled = false
exclude_parent = false
target_position = Vector2(71, 0)
collision_mask = 2
hit_from_inside = true
collide_with_areas = true
collide_with_bodies = false

[node name="LeftRayCaster" type="RayCast2D" parent="." index="5"]
position = Vector2(34, 0)
enabled = false
exclude_parent = false
target_position = Vector2(45, -13)
collision_mask = 2
hit_from_inside = true
collide_with_areas = true
collide_with_bodies = false

[node name="RightRayCaster" type="RayCast2D" parent="." index="6"]
position = Vector2(34, 0)
enabled = false
exclude_parent = false
target_position = Vector2(44, 15)
collision_mask = 2
hit_from_inside = true
collide_with_areas = true
collide_with_bodies = false

[node name="BodyArea" type="Area2D" parent="." index="7"]
position = Vector2(-12, 0)
monitoring = false
monitorable = false

[node name="BodyShape" type="CollisionShape2D" parent="BodyArea" index="0"]
position = Vector2(12, 0)
shape = SubResource("RectangleShape2D_0l3b4")

[node name="ForwardBlockadeObserver" type="Area2D" parent="." index="8"]
position = Vector2(18, 0)
collision_layer = 4
collision_mask = 4
input_pickable = false
monitoring = false
monitorable = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="ForwardBlockadeObserver" index="0"]
position = Vector2(21.75, 0)
shape = SubResource("RectangleShape2D_s0wy3")

[node name="PathFollower" type="PathFollow2D" parent="." index="9"]
loop = false
